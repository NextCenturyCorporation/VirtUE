<br>
<ul class="mui-tabs__bar">
  <li class="mui--is-active"><a data-mui-toggle="tab" data-mui-controls="general">General</a></li>
  <li><a data-mui-toggle="tab" data-mui-controls="network">Network</a></li>
  <li><a data-mui-toggle="tab" data-mui-controls="resources">Resources</a></li>
  <li><a data-mui-toggle="tab" data-mui-controls="sensors">Sensors</a></li>
</ul>
<div class="mui-tabs__pane mui--is-active" id="general">
  <div class="tab-pane-content no-overflow">
    <div class="mui-row form-item">
      <div class="mui-col-md-11">
        <h4>General Settings</h4>
      </div>
      <div class="mui-col-md-2 float-right">
        <mat-checkbox [(ngModel)]="item.unprovisioned" [disabled]="inViewMode()" >
          Unprovisioned
        </mat-checkbox>
      </div>
    </div>
    <br>
    <div class="mui-row form-item">
      <div class="mui-col-md-4 float-left">
        <label>Select Virtue Color:</label>
        <div class="mui-col-md-6 float-right">

          <ng-container *ngIf="inViewMode()">
            <mat-card id="virtue-color" rowHeight="1:1" [ngStyle]="{'background-color': item.color, 'border':'1px solid black'}"></mat-card>
        </ng-container>

        <ng-container *ngIf="!inViewMode()">
          <mat-card id="virtue-color" rowHeight="1:1" [ngStyle]="{'background-color': item.color, 'border':'1px solid black'}"
          (click)="activateColorModal()"></mat-card>
        </ng-container>

        </div>
      </div>
    </div>
    <br>
    <mat-form-field>
      <mat-select placeholder="Default Browser" [disabled]="inViewMode()" [(ngModel)]="item.defaultBrowser">
        <mat-option *ngFor="let browser of browsers" [value]="browser">
          {{browser}}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <div class="mui-row form-item">
      <app-table #allowedPasteTargetsTable></app-table>

      <div class="mui-col-md-2 float-right">
        <br>
        <label>Add Virtue &nbsp;&nbsp;</label>
        <button mat-mini-fab mat-button class="fab-button" (click)="activatePastableVirtueModal()" [disabled]="inViewMode()" >
          <mat-icon class="plus" svgIcon="plus" aria-label="Add new item to list of virtues into which this virtue is allowed to paste data."></mat-icon>
        </button>
      </div>
    </div>
  </div>
</div>
<div class="mui-tabs__pane" id="network">
  <div class="tab-pane-content no-overflow">
    <div class="mui-row ">
      <div class="mui-col-md-11">
        <div class="mui-row">
          <h4>Network Permissions: </h4>
          <div class="mui-col-md-10">
            <br>
            <b>White List</b>
          </div>
          <div class="mui-col-md-2">
            <br>
            <label>Add new &nbsp;&nbsp;</label>
            <button mat-mini-fab mat-button class="fab-button" [disabled]="inViewMode()" (click)="addNewNetworkPermission()" style="">
              <mat-icon class="plus" svgIcon="plus" aria-label="Add new network permission."></mat-icon>
            </button>
          </div>
        </div>
        <app-table #netWorkPermsTable></app-table>
        <!-- <div class="mui-row">
          <ng-container *ngFor="let column of getNetworkColumns()" >
            <div class="table-header mui-col-md-{{column.width}}">
              <label>{{column.prettyName}}</label>
            </div>
          </ng-container>
        </div>
        <br>
        <div *ngFor="let networkPermission of item.networkWhiteList" class="mui-row">
          <div  class="mui-col-md-{{getNetworkColumns()[0].width}}">
            <mat-form-field floatLabel="never">
              <input matInput type="text" placeholder="{{getNetworkColumns()[0].name}}"
                      [(ngModel)]="networkPermission[getNetworkColumns()[0].name]" required/>
            </mat-form-field>
          </div>
          <div class="mui-col-md-{{getNetworkColumns()[1].width}}">
            <mat-form-field floatLabel="never">
              <mat-select placeholder="{{getNetworkColumns()[1].name}}"
                       [(ngModel)]="networkPermission.protocol" required >
                <mat-option *ngFor="let p of keys(protocols)" value="{{p}}" >
                  {{p}}
                </mat-option>
              </mat-select>

            </mat-form-field>
          </div>
          <div class="mui-col-md-{{getNetworkColumns()[2].width}}">
            <mat-form-field floatLabel="never">
              <input matInput type="number" placeholder="{{getNetworkColumns()[2].name}}"
                      [(ngModel)]="networkPermission[getNetworkColumns()[2].name]" required/>
            </mat-form-field>
          </div>
          <div class="mui-col-md-{{getNetworkColumns()[3].width}}">
            <mat-form-field floatLabel="never">
              <input matInput type="number" placeholder="{{getNetworkColumns()[3].name}}"
                      [(ngModel)]="networkPermission[getNetworkColumns()[3].name]" required/>
            </mat-form-field>
          </div>
        </div> -->
      </div>
    </div>
  </div>
</div>

<div class="mui-tabs__pane" id="resources">
  <div class="tab-pane-content no-overflow">
    <h4>Resources</h4>
    <br>
    <div class="mui-row">
      <div class="mui-col-md-8">
        <div>
          <h5>File System Permissions</h5>

          <app-table #fileSysPermsTable></app-table>

        </div>
        <br>
        <br>

        <div >
          <div class="mui-row">
            <div class="mui-col-md-10">
              <br>
              <h5>Printers</h5>
            </div>
            <div class="mui-col-md-2">
              <br>
              <label>&nbsp;&nbsp;&nbsp;&nbsp;Add new &nbsp;&nbsp;</label>
              <button mat-mini-fab mat-button class="fab-button" [disabled]="inViewMode()" (click)="addNewPrinter()" style="">
                <mat-icon class="plus" svgIcon="plus" aria-label="Add new printer."></mat-icon>
              </button>
            </div>
          </div>
          <app-table #printerTable></app-table>

        </div>
      </div>
    </div>
  </div>
</div>
<div class="mui-tabs__pane" id="sensors">
  <div class="tab-pane-content no-overflow">
    <h4>Sensor Settings</h4>
  </div>
</div>

<!-- This seems useful, but I don't think it's used at the moment. -->
<script>
  var paneIds = ['general', 'network', 'resources', 'sensors'],
    currPos = 0;

  function activateNext() {
    // increment id
    currPos = (currPos + 1) % paneIds.length;
    // activate tab
    mui.tabs.activate(paneIds[currPos]);
  }
</script>
