<form name="vm-list">
<h2 mat-dialog-title>Manage {{something}}</h2>
<div mat-dialog-content>
  <p>Select virtual machines to include in the virtue.</p>
  <div class="mui-container-fluid data-list">
    <div class="mui-row table-header-group">

      <span class="table-header float-left checkbox mui-col-md-1">
        <mat-checkbox
          name="selectAll"
          (change)="selectAll($event.checked)"></mat-checkbox>
      </span>
      <div *ngFor="let column of colData" class="table-header mui-col-md-{{column.colWidth}}">
        <div *ngIf="column.isList" >{{column.prettyName}}</div>
        <a *ngIf="!column.isList" (click)="setColumnSortDirection(column, sortBy)">{{column.prettyName}}</a>
        <span class="list-sorter" *ngIf="!column.isList" >
          <span *ngIf="sortColumn.name === column.name && sortBy === 'asc'" class="fa fa-sort-up"></span>
          <span *ngIf="sortColumn.name === column.name && sortBy === 'desc'" class="fa fa-sort-down"></span>
          <span class="fa fa-sort font-color-gray"></span>
        </span>
      </div>
    </div>

    <!-- That pipe character calls a PipeTransform object, ListFilterPipe.
    It is passed the preceeding list, followed by the values between colons -->
    <div class="mui-row table-row"
      *ngFor="let i of items | listFilter : sortColumn.name : 'status' : filterValue : sortDirection : (filterValue === '*')"
      [ngStyle]="{'background-color':i.enabled ? '#ffffff' : '#e7e7e7' }"
      appActiveClass>
      <!-- Iterate over all columns after the first one (the name), which was displayed above -->
      <span class="float-left mui-col-md-1 table-data transparent " flex="50">
        <mat-checkbox
          name="cbVm"
          [checked]="isSelected(i.getID())"
          (change)="cbVmList($event.checked, i.getID())"
          value="{{i.getID()}}" ></mat-checkbox>
      </span>
      <div *ngFor="let column of colData; let idx=index"
          class="table-data mui-col-md-{{column.colWidth}} transparent">
        <div *ngIf="column.isList" class="transparent">
          <ul>
              <ul [innerHTML]="column.formatValue(i)"></ul>
          </ul>
        </div>
        <div *ngIf="!column.isList">
          {{ column.formatValue ? column.formatValue(i) : i[column.name] }}
        </div>
      </div>

      <div class="clearfix"></div>
    </div>
  </div>
</div>

<div mat-dialog-actions>
  <button mat-button class="button" type="submit" (click)="submit();">
    Submit
  </button>
  <button mat-button type="button" (click)="cancel();" mat-dialog-close>
    Cancel
  </button>
</div>
</form>
